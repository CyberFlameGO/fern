imports:
  serviceCommons: ./commons.yml
  commons: ../commons.yml
  types: ../types.yml
types:
  HttpService:
    extends: commons.WithDocs
    properties:
      name: types.NamedType
      basePath: optional<string>
      endpoints: list<HttpEndpoint>
      headers: list<HttpHeader>
  HttpAuth:
    enum:
      - BEARER
      - NONE
  HttpEndpoint:
    extends: commons.WithDocs
    properties:
      endpointId: string
      path: string
      method: HttpMethod
      headers: list<HttpHeader>
      pathParameters: list<PathParameter>
      queryParameters: list<QueryParameter>
      request: HttpRequest
      response: HttpResponse
      auth: HttpAuth
  HttpMethod:
    enum:
      - GET
      - POST
      - PUT
      - PATCH
      - DELETE
  HttpHeader:
    extends: commons.WithDocs
    properties:
      header: string
      valueType: types.TypeReference
  PathParameter:
    extends: commons.WithDocs
    properties:
      key: string
      valueType: types.TypeReference
  QueryParameter:
    extends: commons.WithDocs
    properties:
      key: string
      valueType: types.TypeReference
  HttpRequest:
    extends: commons.WithDocs
    properties:
      encoding: serviceCommons.Encoding
      type: types.Type
  HttpResponse:
    extends: commons.WithDocs
    properties:
      encoding: serviceCommons.Encoding
      ok: HttpOkResponse
      failed: serviceCommons.FailedResponse
  HttpOkResponse:
    extends: commons.WithDocs
    properties:
      type: types.Type
