imports:
  commons: ../commons.yml
  # TODO commons probably shouldn't rely on errors
  errors: ../errors.yml
types:
  Encoding:
    union:
      json: {}
      custom: CustomWireMessageEncoding
  CustomWireMessageEncoding:
    properties:
      encoding: string

  FailedResponse:
    extends: commons.WithDocs
    properties:
      discriminant: string
      errorProperties: ResponseErrorProperties
      errors: list<ResponseError>
  ResponseErrorProperties:
    properties:
      errorInstanceId: string
  ResponseError:
    extends: commons.WithDocs
    properties:
      discriminantValue: string
      error: errors.NamedError

  NamedInlinedServiceType:
    properties:
      fernFilepath: commons.FernFilepath
      name: string

  # TODO move to http commons?
  NamedService:
    properties:
      fernFilepath: commons.FernFilepath
      name: string
  # TODO move to websocket commons?
  NamedChannel:
    properties:
      fernFilepath: commons.FernFilepath
      name: string
