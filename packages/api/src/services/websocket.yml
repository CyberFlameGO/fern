imports:
  serviceCommons: ./commons.yml
  commons: ../commons.yml
  types: ../types.yml
types:
  WebSocketService:
    extends: serviceCommons.BaseService
    properties:
      path: string
      init: WebSocketInit
      client: WebSocketMessenger
      server: WebSocketMessenger
      messagePropertyKeys: WebSocketMessagePropertyKeys
  WebSocketInit:
    extends: commons.WithDocs
    properties:
      type: types.Type
      operationName: string
      encoding: serviceCommons.Encoding
  WebSocketMessenger:
    extends: commons.WithDocs
    properties:
      messages: list<WebSocketMessage>
  WebSocketMessage:
    extends: commons.WithDocs
    properties:
      request: WebSocketMessageRequest
      response: WebSocketMessageResponse
  WebSocketMessageRequest:
    extends: commons.WithDocs
    properties:
      type: types.Type
      encoding: serviceCommons.Encoding
  WebSocketMessageResponse:
    extends: commons.WithDocs
    properties:
      encoding: serviceCommons.Encoding
      ok: types.Type
      errors: serviceCommons.ResponseErrors
  WebSocketMessagePropertyKeys:
    properties:
      id: string
      operation: string
      body: string
